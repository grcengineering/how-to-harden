# =============================================================================
# PagerDuty Hardening Code Pack - Example Variable Values
# How to Harden (howtoharden.com)
#
# Copy this file to terraform.tfvars and fill in your values.
# NEVER commit terraform.tfvars to version control -- it contains secrets.
#
# Usage:
#   cp terraform.tfvars.example terraform.tfvars
#   # Edit terraform.tfvars with your values
#   terraform plan
#   terraform apply
# =============================================================================


# -----------------------------------------------------------------------------
# Profile Level
# 1 = Baseline (L1) -- essential controls for all organizations
# 2 = Hardened (L2) -- adds SCIM provisioning, observer roles
# 3 = Maximum Security (L3) -- strictest controls for regulated industries
# -----------------------------------------------------------------------------
profile_level = 1


# -----------------------------------------------------------------------------
# PagerDuty Provider Configuration
# -----------------------------------------------------------------------------

# PagerDuty REST API v2 token -- generate at:
#   Integrations > API Access Keys > Create New API Key
# WARNING: This is a sensitive value. Use environment variables in production:
#   export TF_VAR_pagerduty_api_token="your-api-key"
pagerduty_api_token = ""


# -----------------------------------------------------------------------------
# Section 1.1: SAML Single Sign-On
# IdP settings for SAML SSO configuration.
# Leave empty to skip automated SSO guidance (configure via UI instead).
# -----------------------------------------------------------------------------
sso_login_url  = ""
sso_certificate = ""


# -----------------------------------------------------------------------------
# Section 2.2: SCIM Provisioning (L2+ only)
# SCIM bearer token for automated user lifecycle management.
# Generate at: Account Settings > SCIM
# Only applied when profile_level >= 2.
# -----------------------------------------------------------------------------
scim_token = ""


# -----------------------------------------------------------------------------
# Section 3.1: Role-Based Access
# Define teams for RBAC structure. Each team has a name and description.
# -----------------------------------------------------------------------------
team_definitions = [
  # { name = "Platform Engineering", description = "Infrastructure and platform team" },
  # { name = "Application SRE",     description = "Application reliability team" },
  # { name = "Security Operations",  description = "Security monitoring and response" },
]


# -----------------------------------------------------------------------------
# Section 3.2: Limit Admin Access
# User IDs of designated administrators (limit to 2-3).
# Find user IDs at: People > Users > click user > copy ID from URL.
# -----------------------------------------------------------------------------
admin_user_ids = [
  # "PUSER123",
  # "PUSER456",
]

# Maximum number of admin users allowed
max_admin_count = 3

# User IDs for observer (read-only) role (Business/Enterprise, L2+ only)
observer_user_ids = [
  # "PUSER789",
]


# -----------------------------------------------------------------------------
# Section 4.1: Audit Logging
# Webhook URL for forwarding PagerDuty events to your SIEM.
# Leave empty to skip webhook configuration (use API export instead).
# Examples:
#   Splunk HEC:   "https://splunk.yourcompany.com:8088/services/collector"
#   Elastic:      "https://elastic.yourcompany.com:9200/_bulk"
# -----------------------------------------------------------------------------
audit_log_webhook_url = ""
audit_webhook_name    = "HTH Audit Log SIEM Forwarder"
