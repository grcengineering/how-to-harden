# =============================================================================
# Twilio Hardening Code Pack - Example Variable Values
# How to Harden (howtoharden.com)
#
# Copy this file to terraform.tfvars and fill in your values.
# NEVER commit terraform.tfvars to version control -- it contains secrets.
#
# Usage:
#   cp terraform.tfvars.example terraform.tfvars
#   # Edit terraform.tfvars with your values
#   terraform plan
#   terraform apply
# =============================================================================


# -----------------------------------------------------------------------------
# Profile Level
# 1 = Baseline (L1) -- essential controls for all organizations
# 2 = Hardened (L2) -- adds subaccounts, webhook security, per-env API keys
# 3 = Maximum Security (L3) -- strictest controls for regulated industries
# -----------------------------------------------------------------------------
profile_level = 1


# -----------------------------------------------------------------------------
# Twilio Provider Configuration
# -----------------------------------------------------------------------------

# Your Twilio Account SID (starts with "AC", found at Console > Account Info)
twilio_account_sid = "AC..."

# Twilio Auth Token -- found at Console > Account Info
# WARNING: This is a sensitive value. Use environment variables in production:
#   export TF_VAR_twilio_auth_token="your-auth-token"
twilio_auth_token = ""


# -----------------------------------------------------------------------------
# Section 1.1: SAML SSO Configuration
# Leave empty to skip SSO validation (SSO is configured in Twilio Console).
# These values document your expected SSO configuration for drift detection.
# -----------------------------------------------------------------------------
sso_saml_issuer      = ""
sso_saml_url         = ""
sso_saml_certificate = ""


# -----------------------------------------------------------------------------
# Section 2.1: User Role Configuration
# Map of user emails to their minimum-necessary Twilio role.
# Used for documentation and audit validation.
# Valid roles: developer, billing, support
# (Owner and Administrator are assigned in Console only)
# -----------------------------------------------------------------------------
restricted_role_users = {
  # "developer@company.com" = "developer"
  # "finance@company.com"   = "billing"
  # "support@company.com"   = "support"
}


# -----------------------------------------------------------------------------
# Section 2.2: Subaccount Configuration (L2+ only)
# Friendly names for isolated subaccounts.
# Only created when profile_level >= 2.
# -----------------------------------------------------------------------------
subaccounts = [
  # "production",
  # "staging",
  # "development",
]


# -----------------------------------------------------------------------------
# Section 3.1: API Key Configuration
# Whether to create a hardened standard API key to replace Auth Token usage.
# -----------------------------------------------------------------------------
create_api_key        = true
api_key_friendly_name = "hth-hardened-api-key"


# -----------------------------------------------------------------------------
# Section 3.2: Webhook Security (L2+ only)
# IP CIDRs allowed to send webhooks to your endpoints.
# Only applied when profile_level >= 2.
# See: https://www.twilio.com/docs/sip-trunking/ip-addresses
# -----------------------------------------------------------------------------
webhook_allowed_ip_cidrs = [
  # "54.172.60.0/23",    # Twilio US1
  # "54.244.51.0/24",    # Twilio US1
]
