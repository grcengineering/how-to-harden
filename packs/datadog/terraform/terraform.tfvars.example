# =============================================================================
# Datadog Hardening Code Pack - Example Variable Values
# How to Harden (howtoharden.com)
#
# Copy this file to terraform.tfvars and fill in your values.
# NEVER commit terraform.tfvars to version control -- it contains secrets.
#
# Usage:
#   cp terraform.tfvars.example terraform.tfvars
#   # Edit terraform.tfvars with your values
#   terraform plan
#   terraform apply
# =============================================================================


# -----------------------------------------------------------------------------
# Profile Level
# 1 = Baseline (L1) -- essential controls for all organizations
# 2 = Hardened (L2) -- adds SAML strict mode, SAML change detection
# 3 = Maximum Security (L3) -- strictest controls for regulated industries
# -----------------------------------------------------------------------------
profile_level = 1


# -----------------------------------------------------------------------------
# Datadog Provider Configuration
# -----------------------------------------------------------------------------

# Datadog API key -- found at Organization Settings > API Keys
# WARNING: This is a sensitive value. Use environment variables in production:
#   export TF_VAR_datadog_api_key="your-api-key"
datadog_api_key = ""

# Datadog Application key -- found at Organization Settings > Application Keys
# WARNING: This is a sensitive value. Use environment variables in production:
#   export TF_VAR_datadog_app_key="your-app-key"
datadog_app_key = ""

# Datadog API URL (site-specific)
# US1: https://api.datadoghq.com (default)
# US3: https://api.us3.datadoghq.com
# US5: https://api.us5.datadoghq.com
# EU1: https://api.datadoghq.eu
# AP1: https://api.ap1.datadoghq.com
# US1-FED: https://api.ddog-gov.com
datadog_api_url = "https://api.datadoghq.com"


# -----------------------------------------------------------------------------
# Section 1.1: SAML Single Sign-On
# URL to your IdP SAML metadata XML document
# -----------------------------------------------------------------------------
saml_idp_metadata_url = ""


# -----------------------------------------------------------------------------
# Section 1.2: SAML Strict Mode (L2+ only)
# When true, disables password and Google login -- SAML only
# Only applied when profile_level >= 2
# -----------------------------------------------------------------------------
saml_strict_mode_enabled = true

# Email domains for SAML auto-provisioned users
saml_autocreate_users_domains = [
  # "example.com",
  # "corp.example.com",
]


# -----------------------------------------------------------------------------
# Section 1.3: Session Security
# Idle session timeout in minutes
# L1 recommendation: 30 minutes
# L2 recommendation: 15 minutes
# -----------------------------------------------------------------------------
session_idle_timeout_minutes = 30


# -----------------------------------------------------------------------------
# Section 2.1: Role-Based Access Control
# Custom roles with specific permissions.
# Find permission IDs at: https://docs.datadoghq.com/api/latest/roles/#list-permissions
# Leave empty to use only built-in roles.
# -----------------------------------------------------------------------------
custom_roles = {
  # security_viewer = {
  #   name = "Security Viewer"
  #   permissions = [
  #     "permission-id-for-security-signals-read",
  #     "permission-id-for-logs-read",
  #   ]
  # }
  # monitors_manager = {
  #   name = "Monitors Manager"
  #   permissions = [
  #     "permission-id-for-monitors-write",
  #     "permission-id-for-monitors-read",
  #   ]
  # }
}


# -----------------------------------------------------------------------------
# Section 3.1: API Key Security
# Create purpose-specific API keys with descriptive names.
# Leave empty to manage keys outside Terraform.
# -----------------------------------------------------------------------------
api_key_names = [
  # "prod-agent",
  # "staging-agent",
  # "ci-pipeline",
]


# -----------------------------------------------------------------------------
# Section 3.2: Application Key Security
# Create purpose-specific application keys with descriptive names.
# Leave empty to manage keys outside Terraform.
# -----------------------------------------------------------------------------
app_key_names = [
  # "terraform-automation",
  # "ci-cd-pipeline",
]


# -----------------------------------------------------------------------------
# Section 4.1: Audit Log Monitoring
# Notification targets for security monitoring alerts.
# Supports: @slack-channel, @pagerduty-service, @email@example.com
# -----------------------------------------------------------------------------
audit_alert_recipients = [
  # "@slack-security-alerts",
  # "@pagerduty-security-oncall",
]
